/* ============================================================================
   РЕДИЗАЙН СТРАНИЦЫ ИСТОРИИ ПАЦИЕНТА
   Дизайн в стиле plan_detail.html - современный и цветной
   ============================================================================ */

/* Основные цвета */
:root {
    --bg-main: #f8f9fa;           /* Основной фон - светло-серый */
    --bg-secondary: #f5f5dc;      /* Вторичный фон - бежевый */
    --text-primary: #495057;      /* Основной текст - темно-серый */
    --text-secondary: #6c757d;    /* Вторичный текст - серый */
    --text-muted: #adb5bd;        /* Приглушенный текст */
    
    /* Акцентные цвета */
    --accent-primary: #007bff;    /* Основной акцент - синий */
    --accent-secondary: #28a745;  /* Вторичный акцент - зеленый */
    --accent-warning: #ffc107;    /* Предупреждение - желтый */
    --accent-danger: #dc3545;     /* Опасность - красный */
    --accent-info: #17a2b8;       /* Информация - голубой */
    
    /* Фоны и границы */
    --bg-card: #ffffff;           /* Фон карточек - белый */
    --border-color: #dee2e6;      /* Цвет разделителей */
    --shadow-light: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);  /* Легкая тень */
    --shadow-medium: 0 0.5rem 1rem rgba(0, 0, 0, 0.15); /* Средняя тень */
}

/* Основной фон страницы */
body {
    background-color: var(--bg-main);
    color: var(--text-primary);
}

/* ============================================================================
   ЗАГОЛОВКИ СЕКЦИЙ - ЦВЕТНЫЕ КАК В PLAN_DETAIL.HTML
   ============================================================================ */

.card-header {
    background-color: var(--accent-primary) !important;
    color: white !important;
    border-bottom: 1px solid var(--accent-primary);
    padding: 1rem 1.25rem;
    border-radius: 0.375rem 0.375rem 0 0;
}

.card-header h5, .card-header h4, .card-header h6 {
    color: white !important;
    font-weight: 600;
    margin: 0;
}

.card-header .text-muted {
    color: rgba(255, 255, 255, 0.8) !important;
}

.card-header a {
    color: white !important;
    text-decoration: none;
}

.card-header a:hover {
    color: rgba(255, 255, 255, 0.8) !important;
}

/* Цветовые варианты заголовков */
.card-header.bg-success {
    background-color: var(--accent-secondary) !important;
    border-color: var(--accent-secondary);
}

.card-header.bg-info {
    background-color: var(--accent-info) !important;
    border-color: var(--accent-info);
}

.card-header.bg-warning {
    background-color: var(--accent-warning) !important;
    border-color: var(--accent-warning);
    color: var(--text-primary) !important;
}

.card-header.bg-warning h5, .card-header.bg-warning h4, .card-header.bg-warning h6 {
    color: var(--text-primary) !important;
}

.card-header.bg-warning .text-muted {
    color: rgba(0, 0, 0, 0.6) !important;
}

.card-header.bg-warning a {
    color: var(--text-primary) !important;
}

.card-header.bg-warning a:hover {
    color: rgba(0, 0, 0, 0.8) !important;
}

.card-header.bg-danger {
    background-color: var(--accent-danger) !important;
    border-color: var(--accent-danger);
}

/* ============================================================================
   КАРТОЧКИ
   ============================================================================ */

.card {
    border: 1px solid var(--border-color);
    margin-bottom: 1.5rem;
    border-radius: 0.5rem;
    background-color: var(--bg-card);
    box-shadow: var(--shadow-light);
    transition: box-shadow 0.2s ease;
}

.card:hover {
    box-shadow: var(--shadow-medium);
}

.card-body {
    padding: 1.25rem;
}

.card-footer {
    background-color: var(--bg-card);
    border-top: 1px solid var(--border-color);
    padding: 0.75rem 1.25rem;
    border-radius: 0 0 0.5rem 0.5rem;
}

/* ============================================================================
   КНОПКИ
   ============================================================================ */

.btn {
    border-radius: 0.375rem;
    font-weight: 500;
    transition: all 0.2s ease;
    border: 1px solid transparent;
}

.btn-primary {
    background-color: var(--accent-primary);
    border-color: var(--accent-primary);
    color: white;
}

.btn-primary:hover {
    background-color: #0056b3;
    border-color: #0056b3;
    transform: translateY(-1px);
    box-shadow: var(--shadow-medium);
}

.btn-success {
    background-color: var(--accent-secondary);
    border-color: var(--accent-secondary);
    color: white;
}

.btn-success:hover {
    background-color: #1e7e34;
    border-color: #1e7e34;
    color: white;
}

.btn-warning {
    background-color: var(--accent-warning);
    border-color: var(--accent-warning);
    color: var(--text-primary);
}

.btn-warning:hover {
    background-color: #e0a800;
    border-color: #d39e00;
    color: var(--text-primary);
}

.btn-info {
    background-color: var(--accent-info);
    border-color: var(--accent-info);
    color: white;
}

.btn-info:hover {
    background-color: #138496;
    border-color: #117a8b;
    color: white;
}

.btn-outline-primary {
    color: var(--accent-primary);
    border-color: var(--accent-primary);
    background-color: transparent;
}

.btn-outline-primary:hover {
    background-color: var(--accent-primary);
    color: white;
}

.btn-outline-secondary {
    color: var(--text-secondary);
    border-color: var(--border-color);
    background-color: transparent;
}

.btn-outline-secondary:hover {
    background-color: var(--text-secondary);
    color: white;
}

.btn-outline-warning {
    color: var(--accent-warning);
    border-color: var(--accent-warning);
    background-color: transparent;
}

.btn-outline-warning:hover {
    background-color: var(--accent-warning);
    color: var(--text-primary);
}

.btn-outline-success {
    color: var(--accent-secondary);
    border-color: var(--accent-secondary);
    background-color: transparent;
}

.btn-outline-success:hover {
    background-color: var(--accent-secondary);
    color: white;
}

.btn-outline-info {
    color: var(--accent-info);
    border-color: var(--accent-info);
    background-color: transparent;
}

.btn-outline-info:hover {
    background-color: var(--accent-info);
    color: white;
}

.btn-sm {
    padding: 0.375rem 0.75rem;
    font-size: 0.875rem;
}

/* ============================================================================
   БЕЙДЖИ
   ============================================================================ */

.badge {
    border-radius: 0.25rem;
    padding: 0.25rem 0.5rem;
    font-weight: 500;
    font-size: 0.75rem;
}

.badge.bg-light {
    background-color: var(--bg-secondary) !important;
    color: var(--text-primary) !important;
    border: 1px solid var(--border-color);
}

.badge.bg-success {
    background-color: var(--accent-secondary) !important;
    color: white !important;
}

.badge.bg-info {
    background-color: var(--accent-info) !important;
    color: white !important;
}

.badge.bg-warning {
    background-color: var(--accent-warning) !important;
    color: var(--text-primary) !important;
}

.badge.bg-danger {
    background-color: var(--accent-danger) !important;
    color: white !important;
}

.badge.bg-primary {
    background-color: var(--accent-primary) !important;
    color: white !important;
}

.badge.bg-secondary {
    background-color: var(--text-secondary) !important;
    color: white !important;
}

/* ============================================================================
   СПИСКИ И ЭЛЕМЕНТЫ
   ============================================================================ */

.list-group-item {
    border-color: var(--border-color);
    background-color: var(--bg-card);
    color: var(--text-primary);
    padding: 0.75rem 1rem;
}

.list-group-item:hover {
    background-color: var(--bg-main);
}

.list-group-item-action:hover {
    background-color: var(--bg-main);
    border-color: var(--accent-primary);
}

.list-group-item-action:focus {
    background-color: var(--bg-main);
    border-color: var(--accent-primary);
    box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);
}

/* ============================================================================
   ПАГИНАЦИЯ
   ============================================================================ */

.pagination {
    margin: 0;
}

.page-link {
    color: var(--accent-primary);
    border-color: var(--border-color);
    background-color: var(--bg-card);
    padding: 0.5rem 0.75rem;
}

.page-link:hover {
    color: #0056b3;
    background-color: var(--bg-main);
    border-color: var(--accent-primary);
}

.page-item.active .page-link {
    background-color: var(--accent-primary);
    border-color: var(--accent-primary);
    color: white;
}

.page-item.disabled .page-link {
    color: var(--text-muted);
    background-color: var(--bg-card);
    border-color: var(--border-color);
}

/* ============================================================================
   ФИЛЬТРЫ
   ============================================================================ */

.filter-header {
    background-color: var(--bg-main);
    border-color: var(--border-color);
}

.filter-header.active {
    background-color: var(--accent-warning);
    border-color: var(--accent-warning);
}

.filter-badge {
    background-color: var(--accent-warning);
    color: var(--text-primary);
    padding: 0.25rem 0.5rem;
    border-radius: 0.25rem;
    font-size: 0.75rem;
    font-weight: 500;
}

.filter-indicator {
    width: 8px;
    height: 8px;
    background-color: var(--accent-secondary);
    border-radius: 50%;
    display: inline-block;
    margin-right: 0.5rem;
}

/* ============================================================================
   ТЕКСТ И ТИПОГРАФИКА
   ============================================================================ */

.text-muted {
    color: var(--text-muted) !important;
}

.text-primary {
    color: var(--accent-primary) !important;
}

.text-success {
    color: var(--accent-secondary) !important;
}

.text-warning {
    color: var(--accent-warning) !important;
}

.text-danger {
    color: var(--accent-danger) !important;
}

.text-info {
    color: var(--accent-info) !important;
}

/* ============================================================================
   АДАПТИВНОСТЬ
   ============================================================================ */

@media (max-width: 768px) {
    .card-body {
        padding: 1rem;
    }
    
    .card-header {
        padding: 0.75rem 1rem;
    }
    
    .btn-group {
        flex-direction: column;
    }
    
    .btn-group .btn {
        border-radius: 0.375rem !important;
        margin-bottom: 0.25rem;
    }
}

/* ============================================================================
   АНИМАЦИИ И ПЕРЕХОДЫ
   ============================================================================ */

.card, .btn, .list-group-item {
    transition: all 0.2s ease;
}

.btn:hover {
    transform: translateY(-1px);
}

/* ============================================================================
   СПЕЦИАЛЬНЫЕ ЭЛЕМЕНТЫ
   ============================================================================ */

.sticky-top {
    top: 2rem;
}

.remove-filter {
    color: var(--text-muted);
    text-decoration: none;
    margin-left: 0.5rem;
}

.remove-filter:hover {
    color: var(--accent-danger);
}

/* ============================================================================
   ПРОГРЕСС БАРЫ
   ============================================================================ */

.progress {
    background-color: var(--bg-main);
    border-radius: 0.375rem;
    height: 0.75rem;
}

.progress-bar {
    background-color: var(--accent-secondary);
    border-radius: 0.375rem;
}

.progress-bar.bg-success {
    background-color: var(--accent-secondary) !important;
}

.progress-bar.bg-warning {
    background-color: var(--accent-warning) !important;
}

.progress-bar.bg-danger {
    background-color: var(--accent-danger) !important;
}

.progress-bar.bg-info {
    background-color: var(--accent-info) !important;
}

/* ============================================================================
   КОМПАКТНЫЕ КАРТОЧКИ ДЛЯ ЭЛЕМЕНТОВ
   ============================================================================ */

.card.h-100 {
    height: 100% !important;
}

.card.border-primary {
    border-color: var(--accent-primary) !important;
}

.card.border-success {
    border-color: var(--accent-secondary) !important;
}

.card.border-warning {
    border-color: var(--accent-warning) !important;
}

.card.border-info {
    border-color: var(--accent-info) !important;
}

.card.border-danger {
    border-color: var(--accent-danger) !important;
}

/* ============================================================================
   ПУСТЫЕ СОСТОЯНИЯ
   ============================================================================ */

.text-center.p-4.border.rounded.bg-light {
    background-color: var(--bg-main) !important;
    border-color: var(--border-color) !important;
    border-radius: 0.5rem !important;
}

.fa-2x.text-muted {
    color: var(--text-muted) !important;
}

/* ============================================================================
   АККОРДЕОН
   ============================================================================ */

.accordion .card {
    margin-bottom: 0.5rem;
}

.accordion .card-header {
    background-color: var(--bg-main) !important;
    color: var(--text-primary) !important;
    border-color: var(--border-color);
}

.accordion .card-header button {
    color: var(--text-primary) !important;
    text-decoration: none;
}

.accordion .card-header button:hover {
    color: var(--accent-primary) !important;
}

.accordion .card-header button.collapsed {
    background-color: var(--bg-main) !important;
}

.accordion .card-header button:not(.collapsed) {
    background-color: var(--accent-primary) !important;
    color: white !important;
}
