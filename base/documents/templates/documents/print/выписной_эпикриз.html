{% extends 'documents/print/base_print.html' %}

{% block document_content %}
<!-- Специфичное содержимое для выписного эпикриза -->
<div class="field-group">
    <div class="field-label">ФИО пациента:</div>
    <div class="field-value">
        {% if data.patient_name %}
            {{ data.patient_name }}
        {% else %}
            Не указано
        {% endif %}
    </div>
</div>

<div class="field-group">
    <div class="field-label">Дата поступления:</div>
    <div class="field-value">
        {% if data.admission_date %}
            {{ data.admission_date }}
        {% else %}
            Не указано
        {% endif %}
    </div>
</div>

<div class="field-group">
    <div class="field-label">Дата выписки:</div>
    <div class="field-value">
        {% if data.discharge_date %}
            {{ data.discharge_date }}
        {% else %}
            Не указано
        {% endif %}
    </div>
</div>

<div class="field-group">
    <div class="field-label">Диагноз при поступлении:</div>
    <div class="field-value">
        {% if data.admission_diagnosis %}
            {{ data.admission_diagnosis }}
        {% else %}
            Не указано
        {% endif %}
    </div>
</div>

<div class="field-group">
    <div class="field-label">Клинический диагноз:</div>
    <div class="field-value">
        {% if data.clinical_diagnosis %}
            {{ data.clinical_diagnosis }}
        {% else %}
            Не указано
        {% endif %}
    </div>
</div>

<div class="field-group">
    <div class="field-label">Проведенное лечение:</div>
    <div class="field-value {% if data.treatment_performed and data.treatment_performed|length > 100 %}long-text{% endif %}">
        {% if data.treatment_performed %}
            {{ data.treatment_performed }}
        {% else %}
            Не указано
        {% endif %}
    </div>
</div>

<div class="field-group">
    <div class="field-label">Результат лечения:</div>
    <div class="field-value">
        {% if data.treatment_result %}
            {{ data.treatment_result }}
        {% else %}
            Не указано
        {% endif %}
    </div>
</div>

<div class="field-group">
    <div class="field-label">Состояние при выписке:</div>
    <div class="field-value {% if data.discharge_condition and data.discharge_condition|length > 100 %}long-text{% endif %}">
        {% if data.discharge_condition %}
            {{ data.discharge_condition }}
        {% else %}
            Не указано
        {% endif %}
    </div>
</div>

<div class="field-group">
    <div class="field-label">Рекомендации при выписке:</div>
    <div class="field-value {% if data.discharge_recommendations and data.discharge_recommendations|length > 100 %}long-text{% endif %}">
        {% if data.discharge_recommendations %}
            {{ data.discharge_recommendations }}
        {% else %}
            Не указано
        {% endif %}
    </div>
</div>

<div class="field-group">
    <div class="field-label">Дальнейшее наблюдение:</div>
    <div class="field-value {% if data.follow_up and data.follow_up|length > 100 %}long-text{% endif %}">
        {% if data.follow_up %}
            {{ data.follow_up }}
        {% else %}
            Не указано
        {% endif %}
    </div>
</div>

<!-- Дополнительные поля, если они есть -->
{% for field_name, field_value in data.items %}
    {% if field_name not in 'patient_name,admission_date,discharge_date,admission_diagnosis,clinical_diagnosis,treatment_performed,treatment_result,discharge_condition,discharge_recommendations,follow_up' and field_value %}
        <div class="field-group">
            <div class="field-label">{{ field_name|title }}:</div>
            <div class="field-value {% if field_value|length > 100 %}long-text{% endif %}">
                {{ field_value }}
            </div>
        </div>
    {% endif %}
{% endfor %}
{% endblock %} 